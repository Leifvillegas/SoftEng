<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Rate Trip Buddy</title>
</head>

<body>

<h1>Rate Your Travel Buddy</h1>

<p th:if="${error}" th:text="${error}" style="color:red;"></p>
<p th:if="${message}" th:text="${message}" style="color:green;"></p>

<p>
    <strong>Trip:</strong>
    <span th:text="${trip.title}"></span>
    (<span th:text="${trip.destination != null ? trip.destination.name : 'No destination'}"></span>)
</p>

<p>
    <strong>You (rater):</strong>
    <span th:text="${rater.name}"></span>
</p>

<form th:action="@{'/trips/' + ${trip.id} + '/rate'}" method="post">

    <label for="buddyId"><strong>Who are you rating?</strong></label>
    <select id="buddyId" name="buddyId" required>
        <option value="">-- Select a user --</option>
        <option th:each="b : ${buddies}"
                th:value="${b.id}"
                th:text="${b.name}">
        </option>
    </select>
    <br><br>

    <label><strong>Score (1â€“5):</strong></label>
    <select name="score" required>
        <option value="1">1 - Very Bad</option>
        <option value="2">2 - Bad</option>
        <option value="3">3 - Okay</option>
        <option value="4">4 - Good</option>
        <option value="5">5 - Excellent</option>
    </select>
    <br><br>

    <label><strong>Was this trip successful?</strong></label>
    <select name="successful" required>
        <option value="true">Yes - Good / enjoyable experience</option>
        <option value="false">No - Bad experience / no-show, etc.</option>
    </select>
    <br><br>

    <label><strong>Comment:</strong></label>
    <br>
    <textarea name="comment" rows="3" cols="40"
              placeholder="Leave a comment (optional)"></textarea>
    <br><br>

    <button type="submit">Submit Rating</button>
</form>

<br>
<a href="/trips">Back to Trips</a>

</body>
</html>
